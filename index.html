<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Booker.ai - AI Booking Widget for Local Services</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- AOS + Feather Icons -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

  <!-- Animated gradient + wave + widget styles -->
  <style>
    :root{
      --indigo-1:#c7d2fe;
      --indigo-2:#a78bfa;
      --violet-1:#8b5cf6;
      --violet-2:#7c3aed;
      --blue-1:#93c5fd;
      --blue-2:#60a5fa;
    }

    /* Sticky header that stays visible as you scroll */
    .sticky-nav{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: saturate(180%) blur(6px);
      background: rgba(255,255,255,0.85);
      transition: box-shadow .2s ease, transform .2s ease;
    }
    .sticky-nav.scrolled{
      box-shadow: 0 8px 24px rgba(0,0,0,.06);
    }

    /* Animated gradient section (hero + CTA) */
    .gradient-bg{
      position: relative;
      overflow: hidden;
      color:#fff;
      background: linear-gradient(120deg, var(--blue-1), var(--violet-1), var(--blue-2), var(--violet-2));
      background-size: 300% 300%;
      animation: gradientShift 12s ease infinite;
    }
    @keyframes gradientShift{
      0%{ background-position: 0% 50%; }
      50%{ background-position: 100% 50%; }
      100%{ background-position: 0% 50%; }
    }

    /* Soft wave edges using SVG */
    .wave-bottom{
      position: absolute;
      left: 0; right: 0; bottom: -1px;
      height: 90px;
      pointer-events: none;
    }

    /* Chat widget */
    .widget-bubble{
      position: fixed;
      bottom: 1.25rem;
      right: 1.25rem;
      width: 60px; height: 60px;
      border-radius: 9999px;
      display:flex; align-items:center; justify-content:center;
      background: #4F46E5;
      color: #fff;
      box-shadow: 0 12px 28px rgba(79,70,229,.35);
      cursor:pointer; z-index: 1000;
      transition: transform .2s ease;
    }
    .widget-bubble:hover{ transform: scale(1.06); }

    .widget-panel{
      position: fixed;
      bottom: calc(1.25rem + 72px);
      right: 1.25rem;
      width: 420px; max-width: 92vw; height: 520px;
      display: none; flex-direction: column;
      background:#fff; border-radius: 16px;
      overflow: hidden; z-index: 1000;
      box-shadow: 0 12px 30px rgba(0,0,0,.14);
    }
    @media (max-width: 640px){
      .widget-bubble{ bottom:.75rem; right:.75rem; }
      .widget-panel{ right:.75rem; bottom: calc(.75rem + 72px); }
    }

    /* Util */
    .no-select{ user-select:none; -webkit-user-select:none; }
  </style>
</head>

<body class="font-sans text-gray-900 antialiased">

  <!-- NAV -->
  <nav id="top-nav" class="sticky-nav bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="h-16 flex items-center justify-between">
        <div class="flex items-center">
          <i data-feather="calendar" class="w-7 h-7 text-indigo-600"></i>
          <span class="ml-2 text-xl font-bold text-indigo-600">BookerPilot</span>
        </div>
        <div class="hidden sm:flex items-center space-x-8">
          <a href="#features" class="text-gray-600 hover:text-gray-900 text-sm">Features</a>
          <a href="#pricing"  class="text-gray-600 hover:text-gray-900 text-sm">Pricing</a>
          <a href="#faq"      class="text-gray-600 hover:text-gray-900 text-sm">FAQ</a>
          <a href="/login.html"  class="text-indigo-600 text-sm">Log In</a>
          <a href="/signup.html" class="bg-indigo-600 text-white px-4 py-2 rounded-full text-sm hover:bg-indigo-700">Get Started</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="gradient-bg">
    <div class="max-w-7xl mx-auto text-center py-16 px-4 sm:py-24 sm:px-6 lg:px-8">
      <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight" data-aos="fade-up">
        Turn your website into a 24/7 salesperson
      </h1>
      <p class="mt-6 max-w-3xl mx-auto text-lg sm:text-xl text-indigo-100" data-aos="fade-up" data-aos-delay="80">
        Add one line of code. Get more bookings, reduce no-shows, and grow your local service business.
      </p>
      <div class="mt-10 flex justify-center gap-3" data-aos="fade-up" data-aos-delay="140">
        <a href="https://buy.stripe.com/fZu8wO3Gd3NVc8s8EX43S03" target="_blank" rel="noopener"
           class="bg-white text-indigo-600 px-6 sm:px-8 py-3 rounded-md font-medium hover:bg-gray-50">
          Start free trial — Starter
        </a>
        <a href="https://buy.stripe.com/6oU3cu4Khacj6O81cv43S04" target="_blank" rel="noopener"
           class="bg-indigo-600 text-white px-6 sm:px-8 py-3 rounded-md font-medium hover:bg-indigo-700">
          Start free trial — Pro
        </a>
      </div>
    </div>

    <!-- wave bottom -->
    <svg class="wave-bottom" viewBox="0 0 1440 120" preserveAspectRatio="none" aria-hidden="true">
      <path d="M0,64 C240,128 480,0 720,48 C960,96 1200,80 1440,32 L1440,120 L0,120 Z" fill="#ffffff" fill-opacity="1"/>
    </svg>
  </header>

  <!-- LOGO CLOUD -->
  <section class="bg-gray-50 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <p class="text-center text-sm font-semibold uppercase text-gray-500 tracking-wide">Trusted by local businesses worldwide</p>
      <div class="mt-6 text-center text-gray-500">
        Cleaning services • Salons • Tutors • Handymen • Personal trainers • Pet groomers
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section id="features" class="py-12 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-aos="fade-up">Features</h2>
        <p class="mt-2 text-3xl sm:text-4xl leading-8 font-extrabold tracking-tight text-gray-900" data-aos="fade-up">
          Everything you need to grow your business
        </p>
      </div>

      <div class="mt-10 grid md:grid-cols-2 gap-8">
        <div class="flex" data-aos="fade-up">
          <div class="flex-shrink-0">
            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
              <i data-feather="message-square"></i>
            </div>
          </div>
          <div class="ml-4">
            <h3 class="text-lg leading-6 font-medium text-gray-900">AI Chat & FAQ</h3>
            <p class="mt-2 text-base text-gray-500">
              Answer customer questions instantly using your business knowledge. No more missed leads after hours.
            </p>
          </div>
        </div>

        <div class="flex" data-aos="fade-up" data-aos-delay="60">
          <div class="flex-shrink-0">
            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
              <i data-feather="clock"></i>
            </div>
          </div>
          <div class="ml-4">
            <h3 class="text-lg leading-6 font-medium text-gray-900">Real-time Availability</h3>
            <p class="mt-2 text-base text-gray-500">
              Show your actual availability from Google Calendar or set custom hours. No double bookings.
            </p>
          </div>
        </div>

        <div class="flex" data-aos="fade-up" data-aos-delay="120">
          <div class="flex-shrink-0">
            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
              <i data-feather="credit-card"></i>
            </div>
          </div>
          <div class="ml-4">
            <h3 class="text-lg leading-6 font-medium text-gray-900">Secure Payments</h3>
            <p class="mt-2 text-base text-gray-500">
              Collect deposits via Stripe to reduce no-shows. PCI-compliant with no extra work for you.
            </p>
          </div>
        </div>

        <div class="flex" data-aos="fade-up" data-aos-delay="180">
          <div class="flex-shrink-0">
            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
              <i data-feather="smartphone"></i>
            </div>
          </div>
          <div class="ml-4">
            <h3 class="text-lg leading-6 font-medium text-gray-900">Text & Email Reminders</h3>
            <p class="mt-2 text-base text-gray-500">
              Automatic confirmations and reminders reduce cancellations and keep customers happy.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DEMO -->
  <section id="demo" class="py-16 bg-gray-50 overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center mb-12">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-aos="fade-up">Live Demo</h2>
        <p class="mt-2 text-3xl sm:text-4xl leading-8 font-extrabold tracking-tight text-gray-900" data-aos="fade-up">
          Try it yourself
        </p>
      </div>

      <div class="lg:grid lg:grid-cols-2 lg:gap-8 lg:items-center">
        <div class="relative mb-8 lg:mb-0" data-aos="fade-right">
          <h3 class="text-2xl font-extrabold text-gray-900">One-line installation</h3>
          <p class="mt-3 text-lg text-gray-500">Add these two lines to your website and you're done. No coding required.</p>

          <div class="mt-6 bg-gray-900 rounded-lg p-4 overflow-x-auto">
<pre class="text-gray-200 text-sm"><code>&lt;script src="https://cdn.booker.ai/widget.js" async&gt;&lt;/script&gt;
&lt;script&gt;
  window.BookerPilot = window.BookerPilot || function(){ (BookerPilot.q = BookerPilot.q || []).push(arguments); };
  BookerPilot("init", { business: "your-business-slug" });
&lt;/script&gt;</code></pre>
          </div>

          <div class="mt-8 flex">
            <div class="flex-shrink-0">
              <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
                <i data-feather="zap"></i>
              </div>
            </div>
            <div class="ml-4">
              <h4 class="text-lg font-medium text-gray-900">Works everywhere</h4>
              <p class="mt-2 text-base text-gray-500">
                Squarespace, Wix, WordPress, Shopify, or custom HTML sites. Just paste and go.
              </p>
            </div>
          </div>
        </div>

        <div class="relative" data-aos="fade-left">
          <div class="border border-gray-200 rounded-lg p-6 bg-white shadow-sm">
            <h3 class="text-xl font-bold text-gray-900 mb-4">Demo Business: Acme Cleaning</h3>
            <p class="text-gray-600 mb-6">Try asking:</p>
            <ul class="space-y-3 text-gray-700">
              <li class="flex items-start"><i data-feather="chevron-right" class="h-5 w-5 text-indigo-500 mr-2"></i> "How much for a 1 bedroom cleaning?"</li>
              <li class="flex items-start"><i data-feather="chevron-right" class="h-5 w-5 text-indigo-500 mr-2"></i> "Do you service Brooklyn?"</li>
              <li class="flex items-start"><i data-feather="chevron-right" class="h-5 w-5 text-indigo-500 mr-2"></i> "What's your cancellation policy?"</li>
            </ul>
            <button id="open-demo-widget" class="mt-6 w-full bg-indigo-600 rounded-md py-3 px-4 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
              Open Demo Widget
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section id="pricing" class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center mb-12">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-aos="fade-up">Pricing</h2>
        <p class="mt-2 text-3xl sm:text-4xl leading-8 font-extrabold tracking-tight text-gray-900" data-aos="fade-up">
          Simple plans that grow with you
        </p>
      </div>

      <div class="grid sm:grid-cols-2 gap-6 lg:max-w-4xl lg:mx-auto">
        <!-- Starter -->
        <div class="border border-gray-200 rounded-lg shadow-sm divide-y divide-gray-200" data-aos="fade-up">
          <div class="p-6">
            <h3 class="text-lg font-medium text-gray-900">Starter</h3>
            <p class="mt-4">
              <span class="text-4xl font-extrabold text-gray-900">$49</span>
              <span class="text-base font-medium text-gray-500">/mo</span>
            </p>
            <p class="mt-4 text-sm text-gray-500">Perfect for solo entrepreneurs and small teams</p>
            <a href="https://buy.stripe.com/fZu8wO3Gd3NVc8s8EX43S03" target="_blank" rel="noopener"
               class="mt-8 block w-full bg-gray-900 border border-gray-900 rounded-md py-2 text-sm font-semibold text-white text-center hover:bg-black">
              Start free trial
            </a>
          </div>
          <div class="pt-6 pb-8 px-6">
            <h4 class="text-xs font-medium text-gray-900 tracking-wide uppercase">What's included</h4>
            <ul class="mt-6 space-y-4 text-sm text-gray-600">
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> 50 conversations/month</li>
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> 15 bookings/month</li>
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> Email confirmations</li>
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> Basic analytics</li>
            </ul>
          </div>
        </div>

        <!-- Pro -->
        <div class="border border-indigo-500 rounded-lg shadow-sm divide-y divide-indigo-500" data-aos="fade-up" data-aos-delay="60">
          <div class="p-6">
            <div class="flex justify-between items-start">
              <div>
                <h3 class="text-lg font-medium text-gray-900">Pro</h3>
                <p class="mt-1 text-sm text-indigo-700">Most popular</p>
              </div>
            </div>
            <p class="mt-4">
              <span class="text-4xl font-extrabold text-gray-900">$99</span>
              <span class="text-base font-medium text-gray-500">/mo</span>
            </p>
            <p class="mt-4 text-sm text-gray-500">For growing businesses that need more</p>
            <a href="https://buy.stripe.com/6oU3cu4Khacj6O81cv43S04" target="_blank" rel="noopener"
               class="mt-8 block w-full bg-indigo-600 border border-indigo-600 rounded-md py-2 text-sm font-semibold text-white text-center hover:bg-indigo-700">
              Start free trial
            </a>
          </div>
          <div class="pt-6 pb-8 px-6">
            <h4 class="text-xs font-medium text-gray-900 tracking-wide uppercase">What's included</h4>
            <ul class="mt-6 space-y-4 text-sm text-gray-600">
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> Unlimited conversations</li>
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> 100 bookings/month</li>
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> Email &amp; SMS reminders</li>
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> Advanced analytics</li>
              <li class="flex items-start"><i data-feather="check" class="text-green-500 mr-2"></i> Membership upsells</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center mb-12">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-aos="fade-up">FAQ</h2>
        <p class="mt-2 text-3xl sm:text-4xl leading-8 font-extrabold tracking-tight text-gray-900" data-aos="fade-up">
          Frequently asked questions
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up">
          <h3 class="text-lg font-medium text-gray-900">What types of businesses is this for?</h3>
          <p class="mt-2 text-base text-gray-600">
            Any local service business that takes appointments: cleaners, salons, tutors, handymen, personal trainers, pet groomers, and more.
          </p>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up" data-aos-delay="60">
          <h3 class="text-lg font-medium text-gray-900">How does the AI work?</h3>
          <p class="mt-2 text-base text-gray-600">
            It only answers from the information you provide (FAQs, services, pricing). It won't make up answers or give advice outside your business.
          </p>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up" data-aos-delay="120">
          <h3 class="text-lg font-medium text-gray-900">Can I try before I pay?</h3>
          <p class="mt-2 text-base text-gray-600">Yes! All plans include a 30-day free trial.</p>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up" data-aos-delay="180">
          <h3 class="text-lg font-medium text-gray-900">How do payments work?</h3>
          <p class="mt-2 text-base text-gray-600">
            We use Stripe for secure payments. Customers pay deposits through your Stripe account (you'll need to connect it).
          </p>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up" data-aos-delay="240">
          <h3 class="text-lg font-medium text-gray-900">What if I need more bookings?</h3>
          <p class="mt-2 text-base text-gray-600">You can upgrade anytime. Additional bookings are $1 each after your plan limit.</p>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up" data-aos-delay="300">
          <h3 class="text-lg font-medium text-gray-900">Can I cancel anytime?</h3>
          <p class="mt-2 text-base text-gray-600">Absolutely. No contracts, cancel online in seconds.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <div class="lg:text-center mb-10">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Contact Us</h2>
        <p class="mt-2 text-3xl sm:text-4xl leading-8 font-extrabold tracking-tight text-gray-900">Questions? We’re here to help.</p>
        <p class="mt-4 max-w-2xl text-xl text-gray-500 mx-auto">Fill out the form below and we’ll reply to you shortly.</p>
      </div>

      <form action="https://formsubmit.co/bookerpilot@outlook.com" method="POST" class="max-w-2xl mx-auto space-y-4">
        <input type="hidden" name="_next" value="https://bookerpilot.com/index.html#contact">
        <input type="hidden" name="_subject" value="New Contact from BookerPilot Website">
        <input type="hidden" name="_captcha" value="false">

        <input type="text"   name="name"    placeholder="Your Name"   class="w-full border rounded-lg px-3 py-2" required/>
        <input type="email"  name="email"   placeholder="Your Email"  class="w-full border rounded-lg px-3 py-2" required/>
        <textarea name="message" placeholder="Your Question or Message" class="w-full border rounded-lg px-3 py-2 h-32" required></textarea>

        <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 shadow">Send Message</button>
      </form>
    </div>
  </section>

  <!-- CTA -->
  <section class="gradient-bg">
    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between">
      <h2 class="text-3xl sm:text-4xl font-extrabold tracking-tight text-white" data-aos="fade-right">
        <span class="block">Ready to get started?</span>
        <span class="block text-indigo-200">Start your free trial today.</span>
      </h2>
      <div class="mt-8 flex lg:mt-0 lg:flex-shrink-0" data-aos="fade-left">
        <a href="/signup.html" class="inline-flex items-center justify-center px-5 py-3 rounded-md text-base font-medium text-indigo-600 bg-white hover:bg-indigo-50">
          Get started
        </a>
        <a href="#demo" class="ml-3 inline-flex items-center justify-center px-5 py-3 rounded-md text-base font-medium text-white border border-white/30 hover:bg-white/10">
          Live demo
        </a>
      </div>
    </div>

    <svg class="wave-bottom" viewBox="0 0 1440 120" preserveAspectRatio="none" aria-hidden="true">
      <path d="M0,64 C240,128 480,0 720,48 C960,96 1200,80 1440,32 L1440,120 L0,120 Z" fill="#ffffff" fill-opacity="1"/>
    </svg>
  </section>

  <!-- FOOTER -->
  <footer class="bg-white">
    <div class="max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8">
      <nav class="-mx-5 -my-2 flex flex-wrap justify-center" aria-label="Footer">
        <div class="px-5 py-2"><a href="#"         class="text-base text-gray-500 hover:text-gray-900">Home</a></div>
        <div class="px-5 py-2"><a href="#features" class="text-base text-gray-500 hover:text-gray-900">Features</a></div>
        <div class="px-5 py-2"><a href="#pricing"  class="text-base text-gray-500 hover:text-gray-900">Pricing</a></div>
        <div class="px-5 py-2"><a href="#faq"      class="text-base text-gray-500 hover:text-gray-900">FAQ</a></div>
        <div class="px-5 py-2"><a href="#"         class="text-base text-gray-500 hover:text-gray-900">Privacy</a></div>
        <div class="px-5 py-2"><a href="#"         class="text-base text-gray-500 hover:text-gray-900">Terms</a></div>
      </nav>

      <div class="mt-8 flex justify-center space-x-6">
        <a href="#" class="text-gray-400 hover:text-gray-500" aria-label="Facebook"><i data-feather="facebook"></i></a>
        <a href="#" class="text-gray-400 hover:text-gray-500" aria-label="Instagram"><i data-feather="instagram"></i></a>
        <a href="#" class="text-gray-400 hover:text-gray-500" aria-label="Twitter"><i data-feather="twitter"></i></a>
      </div>
      <p class="mt-8 text-center text-base text-gray-400">&copy; 2025 BookerPilot. All rights reserved.</p>
    </div>
  </footer>

  <!-- CHAT WIDGET -->
  <div id="widget-bubble" class="widget-bubble" title="Chat with BookerPilot">
    <i data-feather="message-square"></i>
  </div>

  <div id="widget-panel" class="widget-panel">
    <div class="bg-indigo-600 text-white p-4">
      <div class="flex justify-between items-center">
        <h3 id="widget-title" class="font-medium">Your Business</h3>
        <button id="close-widget" class="text-white hover:text-indigo-200"><i data-feather="x"></i></button>
      </div>
    </div>
    <div class="flex-1 p-4 overflow-y-auto">
      <div id="chat-thread" class="space-y-3"></div>
    </div>
    <div class="border-t border-gray-200 p-3">
      <div class="flex items-center">
        <input id="chat-input" type="text" placeholder="Type your question..." class="flex-1 border border-gray-300 rounded-l-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500">
        <button id="send-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-r-md hover:bg-indigo-700">
          <i data-feather="send"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Libs -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script>
    // Anim libs
    AOS.init({ duration: 700, easing: 'ease-in-out', once: true });
    if (window.feather && typeof feather.replace==='function') feather.replace();

    // Sticky nav shadow on scroll
    (function(){
      const nav = document.getElementById('top-nav');
      const onScroll = () => nav.classList.toggle('scrolled', window.scrollY > 4);
      onScroll(); window.addEventListener('scroll', onScroll);
    })();

    // -----------------------------
    // CONFIG – PUT YOUR VALUES HERE
    // -----------------------------
    const CONFIG = {
      businessName: 'Your Business',
      contactEmail: 'bookerpilot@outlook.com',
      supabaseUrl:   'https://YOUR-PROJECT.supabase.co', // <-- replace
      supabaseAnonKey: 'YOUR-ANON-KEY',                  // <-- replace
      typingSpeedMs: 18,
      maxMessagesPerHour: 20
    };

    // -----------------------------
    // CHAT WIDGET (OpenAI via Supabase Edge Function)
    // -----------------------------
    const $ = (sel, root=document)=>root.querySelector(sel);
    const bubble   = $('#widget-bubble');
    const panel    = $('#widget-panel');
    const closeBtn = $('#close-widget');
    const titleEl  = $('#widget-title');
    const input    = $('#chat-input');
    const sendBtn  = $('#send-btn');
    const thread   = $('#chat-thread');

    // Set header title
    titleEl.textContent = CONFIG.businessName;

    // Open/close
    function openWidget(){ panel.style.display='flex'; bubble.style.display='none'; setTimeout(()=>input?.focus(), 60); }
    function closeWidget(){ panel.style.display='none'; bubble.style.display='flex'; }
    bubble.addEventListener('click', openWidget);
    closeBtn.addEventListener('click', closeWidget);
    const demoOpener = document.getElementById('open-demo-widget');
    if (demoOpener) demoOpener.addEventListener('click', openWidget);
    window.addEventListener('keydown', e=>{ if(e.key==='Escape') closeWidget(); });

    // UI helpers
    function scrollToBottom(){ const box = panel.querySelector('.flex-1'); box.scrollTop = box.scrollHeight; }
    function addBubble(text, who='bot'){
      const wrap = document.createElement('div');
      wrap.className = `flex ${who==='user'?'justify-end':'justify-start'}`;
      const bub = document.createElement('div');
      bub.className = `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${who==='user'?'rounded-tr-none bg-indigo-600 text-white':'rounded-tl-none bg-gray-100 text-gray-800'}`;
      bub.textContent = text;
      wrap.appendChild(bub);
      thread.appendChild(wrap);
      scrollToBottom();
      return bub;
    }
    function typeInto(el, fullText, speed=CONFIG.typingSpeedMs){
      el.textContent = '';
      let i=0, s=String(fullText||'');
      return new Promise(res=>{
        (function tick(){
          if(i >= s.length){ res(); return; }
          el.textContent += s[i++]; scrollToBottom();
          setTimeout(tick, speed);
        })();
      });
    }

    // Supabase client
    const sb = window.supabase?.createClient(CONFIG.supabaseUrl, CONFIG.supabaseAnonKey);

    // Session & rate limit
    const SESSION = { id: crypto.randomUUID(), turns: [], count:0, resetAt: Date.now() };
    function checkLimit(){
      const now = Date.now();
      if (now - SESSION.resetAt > 3600_000){ SESSION.count=0; SESSION.resetAt=now; }
      if (SESSION.count >= CONFIG.maxMessagesPerHour){ return `Demo limit reached (${CONFIG.maxMessagesPerHour}/hr). Please try later.`; }
      SESSION.count++; return null;
    }

    // Call Edge function (ai-chat)
    async function callAI(userText){
      if (!sb) throw new Error('Supabase not initialized');
      const payload = {
        message: { text: userText, businessType: 'local services' },
        history: SESSION.turns.slice(-10),
        brand: { name: CONFIG.businessName, email: CONFIG.contactEmail },
        meta: { page: location.pathname, ref: document.referrer?.slice(0,160)||'' }
      };
      const { data, error } = await sb.functions.invoke('ai-chat', { body: payload });
      if (error) throw error;
      if (!data?.text) throw new Error('No text returned');
      // Safety: remove any 'Acme Cleaning' if your server still has leftover copy
      return String(data.text).replace(/\bacme\s+cleaning\b/gi, CONFIG.businessName);
    }

    // Send flow
    async function send(){
      const text = (input.value || '').trim();
      if (!text) return;

      const limit = checkLimit();
      addBubble(text, 'user');
      SESSION.turns.push({ role:'user', content: text });
      input.value = '';

      const thinking = addBubble('Thinking…', 'bot');

      try{
        if (limit){ await typeInto(thinking, limit); return; }
        const reply = await callAI(text);
        await typeInto(thinking, reply);
        SESSION.turns.push({ role:'assistant', content: reply });
      }catch(e){
        const fallback = "Sorry—I'm having trouble right now. Please try again in a moment or email " + CONFIG.contactEmail + ".";
        thinking.textContent = fallback;
        SESSION.turns.push({ role:'assistant', content: fallback });
        console.error(e);
      }
    }

    sendBtn.addEventListener('click', send);
    input.addEventListener('keydown', e=>{ if(e.key==='Enter'){ e.preventDefault(); send(); }});

    // Greet on first open (no CTA buttons inside chat)
    let greeted=false;
    function greet(){
      if (greeted) return; greeted = true;
      const msg = `Hi! I’m the ${CONFIG.businessName} assistant. Ask how we can help your business (e.g., “How can you help my nail salon?”, “Reduce no-shows?”, “Do you work with tutors?”).`;
      addBubble(msg, 'bot');
    }
    bubble.addEventListener('click', greet);
    if (demoOpener) demoOpener.addEventListener('click', greet);
  </script>
</body>
</html>
