<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <title>Booker.ai - AI Booking Widget for Local Services</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- AOS (fade in) -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <!-- Feather Icons -->
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

  <style>
    /* Global */
    html { scroll-behavior: smooth; }
    [id] { scroll-margin-top: 80px; }
    body { overflow-x: hidden; } /* prevent horizontal scrolling */

    /* Gradient animation (wave) */
    .gradient-bg {
      background: linear-gradient(135deg,
        #1e3a8a 0%,
        #1d4ed8 20%,
        #3b82f6 40%,
        #60a5fa 60%,
        #93c5fd 80%,
        #dbeafe 100%);
      background-size: 200% 200%;
      animation: waveBackground 8s ease infinite;
    }
    @keyframes waveBackground {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Widget UI */
    .widget-bubble {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #4F46E5;
      color: white;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer;
      box-shadow: 0 10px 25px -5px rgba(79,70,229,0.4);
      z-index: 1000;
      transition: transform .25s ease, box-shadow .25s ease;
    }
    .widget-bubble:hover { transform: scale(1.06); box-shadow: 0 14px 30px -6px rgba(79,70,229,.45); }

    .widget-panel {
      position: fixed;
      bottom: calc(2rem + 80px);
      right: 2rem;
      width: 420px; max-width: 92vw;
      height: 560px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 20px 25px -5px rgba(0,0,0,.1), 0 10px 10px -5px rgba(0,0,0,.04);
      overflow: hidden;
      display: none;
      flex-direction: column;
      z-index: 1000;
    }
    @media (max-width: 640px) {
      .widget-bubble { bottom: 1rem; right: 1rem; }
      .widget-panel  { bottom: calc(1rem + 80px); right: 1rem; }
    }

    /* “Pull-to-reveal” features sheet */
    .reveal-wrap { position: relative; overflow: hidden; }
    .reveal-mask { position: relative; max-height: 0; overflow: hidden; transition: max-height .6s cubic-bezier(.4,0,.2,1); }
    .reveal-handle {
      position: relative; margin: -12px auto 0; width: 120px; height: 32px;
      background: #e5e7eb; border-radius: 9999px 9999px 0 0; box-shadow: 0 -4px 16px rgba(0,0,0,.06) inset; cursor: pointer;
    }
    .reveal-handle::after {
      content: ""; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%);
      width: 36px; height: 4px; border-radius: 9999px; background: #9ca3af;
    }
    .reveal-open .reveal-mask { max-height: 1800px; }

    /* Quick replies (chips) */
    .chip { border: 1px solid #e5e7eb; border-radius: 9999px; padding: .25rem .6rem; font-size: .75rem; cursor: pointer; }
    .chip:hover { background: #f3f4f6; }

    /* Toast */
    .toast {
      position: fixed; left: 50%; transform: translateX(-50%);
      bottom: 24px; background: #111827; color: #fff;
      padding: .75rem 1rem; border-radius: 10px; box-shadow: 0 10px 20px rgba(0,0,0,.2);
      z-index: 9999; display: none;
    }
    .toast.show { display: block; }
  </style>
</head>
<body class="font-sans antialiased text-gray-900" id="home">
  <!-- NAV -->
  <nav class="bg-white shadow-sm sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <div class="flex-shrink-0 flex items-center">
            <i data-feather="calendar" class="h-7 w-7 text-indigo-600"></i>
            <span class="ml-2 text-xl font-bold text-indigo-600">BookerPilot</span>
          </div>
        </div>
        <div class="hidden sm:flex sm:items-center space-x-8">
          <a href="#features" class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">Features</a>
          <a href="#pricing"  class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">Pricing</a>
          <a href="#faq"       class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">FAQ</a>
          <a href="#contact"   class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">Contact</a>
          <a href="#"          class="text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium">Log In</a>
          <a href="#pricing"   class="bg-indigo-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-indigo-700">Get Started</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="gradient-bg text-white">
    <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8 text-center">
      <h1 class="text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl" data-aos="fade-up">
        Turn your website into a 24/7 salesperson
      </h1>
      <p class="mt-6 max-w-3xl mx-auto text-xl text-indigo-100" data-aos="fade-up" data-aos-delay="100">
        Add one line of code. Get more bookings, reduce no-shows, and grow your local service business.
      </p>
      <div class="mt-10 flex justify-center gap-4" data-aos="fade-up" data-aos-delay="150">
        <a href="#pricing" class="bg-white text-indigo-600 px-8 py-3 rounded-md font-medium hover:bg-gray-50">
          Start free trial — Starter
        </a>
        <a href="#pricing" class="bg-indigo-600 text-white px-8 py-3 rounded-md font-medium hover:bg-indigo-700">
          Start free trial — Pro
        </a>
      </div>
    </div>
  </header>

  <!-- LOGO CLOUD -->
  <section class="bg-gray-50 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <p class="text-center text-sm font-semibold uppercase text-gray-500 tracking-wide">
        Trusted by local businesses worldwide
      </p>
      <div class="mt-6 text-center text-gray-500">
        Cleaning services • Salons • Tutors • Handymen • Personal trainers • Pet groomers
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section id="features" class="py-12 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-aos="fade-up">Features</h2>
        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl" data-aos="fade-up">
          Everything you need to grow your business
        </p>
      </div>

      <!-- First 4 tiles -->
      <div class="mt-10 grid md:grid-cols-2 gap-8">
        <div class="flex" data-aos="fade-up">
          <div class="flex-shrink-0">
            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
              <i data-feather="message-square"></i>
            </div>
          </div>
          <div class="ml-4">
            <h3 class="text-lg leading-6 font-medium text-gray-900">AI Chat & FAQ</h3>
            <p class="mt-2 text-base text-gray-500">
              Answer customer questions instantly using your business knowledge. No more missed leads after hours.
            </p>
          </div>
        </div>

        <div class="flex" data-aos="fade-up" data-aos-delay="100">
          <div class="flex-shrink-0">
            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
              <i data-feather="clock"></i>
            </div>
          </div>
          <div class="ml-4">
            <h3 class="text-lg leading-6 font-medium text-gray-900">Real-time Availability</h3>
            <p class="mt-2 text-base text-gray-500">
              Show your actual availability from Google Calendar or set custom hours. No double bookings.
            </p>
          </div>
        </div>

        <div class="flex" data-aos="fade-up" data-aos-delay="200">
          <div class="flex-shrink-0">
            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
              <i data-feather="credit-card"></i>
            </div>
          </div>
          <div class="ml-4">
            <h3 class="text-lg leading-6 font-medium text-gray-900">Secure Payments</h3>
            <p class="mt-2 text-base text-gray-500">
              Collect deposits via Stripe to reduce no-shows. PCI-compliant with no extra work for you.
            </p>
          </div>
        </div>

        <div class="flex" data-aos="fade-up" data-aos-delay="300">
          <div class="flex-shrink-0">
            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
              <i data-feather="smartphone"></i>
            </div>
          </div>
          <div class="ml-4">
            <h3 class="text-lg leading-6 font-medium text-gray-900">Text & Email Reminders</h3>
            <p class="mt-2 text-base text-gray-500">
              Automatic confirmations and reminders reduce cancellations and keep customers happy.
            </p>
          </div>
        </div>
      </div>

      <!-- Pull-to-reveal handle -->
      <div class="reveal-wrap mt-10">
        <div id="pull-handle" class="reveal-handle" title="Pull to reveal more features"></div>

        <!-- Hidden area -->
        <div id="reveal-mask" class="reveal-mask">
          <div class="mt-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="border rounded-lg p-5 bg-white shadow-sm flex">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-10 w-10 rounded-md bg-indigo-500 text-white">
                  <i data-feather="database"></i>
                </div>
              </div>
              <div class="ml-4">
                <h4 class="font-semibold text-gray-900">CRM Sync</h4>
                <p class="text-sm text-gray-600 mt-1">Sync leads, notes, and bookings to your CRM (HubSpot, Pipedrive) with one click.</p>
              </div>
            </div>
            <div class="border rounded-lg p-5 bg-white shadow-sm flex">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-10 w-10 rounded-md bg-indigo-500 text-white">
                  <i data-feather="shield"></i>
                </div>
              </div>
              <div class="ml-4">
                <h4 class="font-semibold text-gray-900">Role-based Access</h4>
                <p class="text-sm text-gray-600 mt-1">Owner, manager, and staff views with audit logs and secure SSO.</p>
              </div>
            </div>
            <div class="border rounded-lg p-5 bg-white shadow-sm flex">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-10 w-10 rounded-md bg-indigo-500 text-white">
                  <i data-feather="bar-chart-2"></i>
                </div>
              </div>
              <div class="ml-4">
                <h4 class="font-semibold text-gray-900">Revenue Insights</h4>
                <p class="text-sm text-gray-600 mt-1">Track bookings, conversion, and cohort retention to see what’s working.</p>
              </div>
            </div>
            <div class="border rounded-lg p-5 bg-white shadow-sm flex">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-10 w-10 rounded-md bg-indigo-500 text-white">
                  <i data-feather="zap"></i>
                </div>
              </div>
              <div class="ml-4">
                <h4 class="font-semibold text-gray-900">Automations</h4>
                <p class="text-sm text-gray-600 mt-1">Drip emails, SMS follow-ups, and win-back campaigns triggered by behavior.</p>
              </div>
            </div>
            <div class="border rounded-lg p-5 bg-white shadow-sm flex">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-10 w-10 rounded-md bg-indigo-500 text-white">
                  <i data-feather="globe"></i>
                </div>
              </div>
              <div class="ml-4">
                <h4 class="font-semibold text-gray-900">Multi-location</h4>
                <p class="text-sm text-gray-600 mt-1">Route bookings to the right branch with location-aware availability.</p>
              </div>
            </div>
            <div class="border rounded-lg p-5 bg-white shadow-sm flex">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-10 w-10 rounded-md bg-indigo-500 text-white">
                  <i data-feather="git-merge"></i>
                </div>
              </div>
              <div class="ml-4">
                <h4 class="font-semibold text-gray-900">Open API</h4>
                <p class="text-sm text-gray-600 mt-1">Integrate with your stack. Webhooks, REST, and Zapier connectors.</p>
              </div>
            </div>
          </div>

          <div class="text-center mt-6">
            <button id="collapse-more" class="text-indigo-600 text-sm hover:text-indigo-800 underline">Hide extra features</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DEMO -->
  <section id="demo" class="py-16 bg-gray-50 overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center mb-12">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-aos="fade-up">Live Demo</h2>
        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl" data-aos="fade-up">
          Try it yourself
        </p>
      </div>

      <div class="lg:grid lg:grid-cols-2 lg:gap-8 lg:items-center">
        <div class="relative mb-8 lg:mb-0" data-aos="fade-right">
          <h3 class="text-2xl font-extrabold text-gray-900 tracking-tight sm:text-3xl">One-line installation</h3>
          <p class="mt-3 text-lg text-gray-500">
            Add these two lines to your website and you're done. No coding required.
          </p>
          <div class="mt-6 bg-gray-800 rounded-lg p-4 overflow-x-auto">
            <pre class="text-gray-200 text-sm"><code>&lt;script src="https://cdn.booker.ai/widget.js" async&gt;&lt;/script&gt;
&lt;script&gt;
  window.BookerPilot = window.BookerPilot || function(){ (BookerPilot.q = BookerPilot.q || []).push(arguments); };
  BookerPilot("init", { business: "your-business-slug" });
&lt;/script&gt;</code></pre>
          </div>

          <div class="mt-8 flex">
            <div class="flex-shrink-0">
              <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white">
                <i data-feather="zap"></i>
              </div>
            </div>
            <div class="ml-4">
              <h4 class="text-lg leading-6 font-medium text-gray-900">Works everywhere</h4>
              <p class="mt-2 text-base text-gray-500">
                Squarespace, Wix, WordPress, Shopify, or custom HTML sites. Just paste and go.
              </p>
            </div>
          </div>
        </div>

        <div class="relative" data-aos="fade-left">
          <div class="border border-gray-200 rounded-lg p-6 bg-white shadow-sm">
            <h3 class="text-xl font-bold text-gray-900 mb-4">Demo: Ask the assistant</h3>
            <p class="text-gray-600 mb-4">Click a prompt to try:</p>
            <div class="flex flex-wrap gap-2">
              <span class="chip" data-q="What is BookerPilot?">What is BookerPilot?</span>
              <span class="chip" data-q="How does BookerPilot work?">How does it work?</span>
              <span class="chip" data-q="What industries do you support?">Industries</span>
              <span class="chip" data-q="Starter vs Pro">Starter vs Pro</span>
              <span class="chip" data-q="Do you integrate with Google Calendar?">Google Calendar</span>
              <span class="chip" data-q="Do you integrate with Stripe?">Stripe</span>
              <span class="chip" data-q="How do reminders work?">Reminders</span>
              <span class="chip" data-q="Is my data secure?">Security</span>
              <span class="chip" data-q="How much does it cost?">Pricing</span>
              <span class="chip" data-q="Join waitlist">Join waitlist</span>
            </div>
            <button id="open-demo-widget" class="mt-6 w-full bg-indigo-600 border border-transparent rounded-md py-3 px-4 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
              Open Demo Widget
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section id="pricing" class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center mb-12">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-aos="fade-up">Pricing</h2>
        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl" data-aos="fade-up">
          Simple plans that grow with you
        </p>
      </div>

      <div class="mt-12 grid sm:grid-cols-2 gap-6 lg:max-w-4xl lg:mx-auto">
        <!-- Starter -->
        <div class="border border-gray-200 rounded-lg shadow-sm divide-y divide-gray-200" data-aos="fade-up">
          <div class="p-6">
            <h3 class="text-lg leading-6 font-medium text-gray-900">Starter</h3>
            <p class="mt-4">
              <span class="text-4xl font-extrabold text-gray-900">$49</span>
              <span class="text-base font-medium text-gray-500">/mo</span>
            </p>
            <p class="mt-4 text-sm text-gray-500">Perfect for solo entrepreneurs and small teams</p>
            <button type="button" data-plan="Starter"
              class="js-open-wl mt-8 block w-full bg-gray-800 border border-gray-800 rounded-md py-2 text-sm font-semibold text-white text-center hover:bg-gray-900">
              Start free trial — Join Waitlist
            </button>
          </div>
          <div class="pt-6 pb-8 px-6">
            <h4 class="text-xs font-medium text-gray-900 tracking-wide uppercase">What's included</h4>
            <ul class="mt-6 space-y-4 text-sm text-gray-600">
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>50 conversations/month</li>
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>15 bookings/month</li>
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>Email confirmations</li>
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>Basic analytics</li>
            </ul>
          </div>
        </div>

        <!-- Pro -->
        <div class="border border-indigo-500 rounded-lg shadow-sm divide-y divide-indigo-500" data-aos="fade-up" data-aos-delay="100">
          <div class="p-6">
            <div class="flex justify-between items-start">
              <div>
                <h3 class="text-lg leading-6 font-medium text-gray-900">Pro</h3>
                <p class="mt-2 text-sm text-indigo-700">Most popular</p>
              </div>
            </div>
            <p class="mt-4">
              <span class="text-4xl font-extrabold text-gray-900">$99</span>
              <span class="text-base font-medium text-gray-500">/mo</span>
            </p>
            <p class="mt-4 text-sm text-gray-500">For growing businesses that need more</p>
            <button type="button" data-plan="Pro"
              class="js-open-wl mt-8 block w-full bg-indigo-600 border border-indigo-600 rounded-md py-2 text-sm font-semibold text-white text-center hover:bg-indigo-700">
              Start free trial — Join Waitlist
            </button>
          </div>
          <div class="pt-6 pb-8 px-6">
            <h4 class="text-xs font-medium text-gray-900 tracking-wide uppercase">What's included</h4>
            <ul class="mt-6 space-y-4 text-sm text-gray-600">
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>Unlimited conversations</li>
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>100 bookings/month</li>
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>Email & SMS reminders</li>
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>Advanced analytics</li>
              <li class="flex items-start"><i data-feather="check" class="h-5 w-5 text-green-500 mr-2"></i>Membership upsells</li>
            </ul>
          </div>
        </div>
      </div>

      <p class="text-center text-sm text-gray-500 mt-6">Launching with a <strong>free 30-day trial</strong> after we flip the switch.</p>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center mb-12">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase" data-aos="fade-up">FAQ</h2>
        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl" data-aos="fade-up">Frequently asked questions</p>
      </div>

      <dl class="grid md:grid-cols-2 gap-6">
        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up">
          <dt class="text-lg leading-6 font-medium text-gray-900">What types of businesses is this for?</dt>
          <dd class="mt-2 text-base text-gray-600">Any local service business that takes appointments: cleaners, salons, tutors, handymen, personal trainers, pet groomers, and more.</dd>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up" data-aos-delay="100">
          <dt class="text-lg leading-6 font-medium text-gray-900">How does the AI work?</dt>
          <dd class="mt-2 text-base text-gray-600">It answers from the information you provide (FAQs, services, pricing) and can use OpenAI safely for free-form questions.</dd>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up" data-aos-delay="200">
          <dt class="text-lg leading-6 font-medium text-gray-900">Can I try before I pay?</dt>
          <dd class="mt-2 text-base text-gray-600">Yes—after launch, all plans include a <strong>free 30-day trial</strong>. Join the waitlist to be notified.</dd>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-sm" data-aos="fade-up" data-aos-delay="300">
          <dt class="text-lg leading-6 font-medium text-gray-900">How do payments work?</dt>
          <dd class="mt-2 text-base text-gray-600">We use Stripe for secure payments. When we launch, you’ll be able to pay on site; until then, pricing buttons route to our waitlist.</dd>
        </div>
      </dl>
    </div>
  </section>

  <!-- CONTACT / JOIN WAITLIST -->
  <section id="contact" class="bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <div class="lg:text-center mb-10">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Join the Waitlist</h2>
        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">Be first to try Booker.ai</p>
        <p class="mt-3 text-gray-700">Join the waitlist to see what’s coming next—launch updates, early access, and a free 30-day trial.</p>
      </div>

      <!-- In-page waitlist form -->
      <form id="waitlist-page-form" class="max-w-2xl mx-auto space-y-4" autocomplete="off">
        <div class="grid sm:grid-cols-2 gap-3">
          <input type="text"   name="name"     placeholder="Your Name"  class="w-full border rounded-lg px-3 py-2"
                 required oncopy="return false" onpaste="return false" spellcheck="false" autocapitalize="off" autocomplete="off">
          <input type="email"  name="email"    placeholder="you@example.com" class="w-full border rounded-lg px-3 py-2"
                 required oncopy="return false" onpaste="return false" spellcheck="false" autocapitalize="off" autocomplete="off">
        </div>
        <div class="grid sm:grid-cols-2 gap-3">
          <input type="text"   name="company"  placeholder="Business / Company (optional)" class="w-full border rounded-lg px-3 py-2"
                 oncopy="return false" onpaste="return false" spellcheck="false" autocapitalize="off" autocomplete="off">
          <select name="plan"  class="w-full border rounded-lg px-3 py-2">
            <option value="Starter">Starter</option>
            <option value="Pro">Pro</option>
            <option value="Not sure">Not sure yet</option>
          </select>
        </div>
        <label class="inline-flex items-center text-sm text-gray-600">
          <input type="checkbox" name="newsletter" class="mr-2">
          Also subscribe me to product updates & newsletters.
        </label>
        <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 shadow">Join Waitlist</button>
        <p id="wl-page-msg" class="text-sm text-gray-500"></p>
      </form>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-white">
    <div class="max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8">
      <nav class="-mx-5 -my-2 flex flex-wrap justify-center" aria-label="Footer">
        <a href="#"         class="px-5 py-2 text-base text-gray-500 hover:text-gray-900">Home</a>
        <a href="#features" class="px-5 py-2 text-base text-gray-500 hover:text-gray-900">Features</a>
        <a href="#pricing"  class="px-5 py-2 text-base text-gray-500 hover:text-gray-900">Pricing</a>
        <a href="#faq"      class="px-5 py-2 text-base text-gray-500 hover:text-gray-900">FAQ</a>
        <a href="#contact"  class="px-5 py-2 text-base text-gray-500 hover:text-gray-900">Contact</a>
        <a href="#"         class="px-5 py-2 text-base text-gray-500 hover:text-gray-900">Privacy</a>
        <a href="#"         class="px-5 py-2 text-base text-gray-500 hover:text-gray-900">Terms</a>
      </nav>

      <div class="mt-8 flex justify-center space-x-6">
        <a href="#" class="text-gray-400 hover:text-gray-500" aria-label="Facebook"><i data-feather="facebook"></i></a>
        <a href="#" class="text-gray-400 hover:text-gray-500" aria-label="Instagram"><i data-feather="instagram"></i></a>
        <a href="#" class="text-gray-400 hover:text-gray-500" aria-label="Twitter"><i data-feather="twitter"></i></a>
      </div>
      <p class="mt-8 text-center text-base text-gray-400">&copy; 2025 BookerPilot. All rights reserved.</p>
    </div>
  </footer>

  <!-- WIDGET BUBBLE -->
  <div id="widget-bubble" class="widget-bubble" title="Chat with BookerPilot">
    <i data-feather="message-square"></i>
  </div>

  <!-- WIDGET PANEL (BookerPilot demo assistant) -->
  <div id="widget-panel" class="widget-panel">
    <div class="bg-indigo-600 text-white p-4">
      <div class="flex justify-between items-center">
        <h3 class="font-medium">BookerPilot — Demo Assistant</h3>
        <button id="close-widget" class="text-white hover:text-indigo-200"><i data-feather="x"></i></button>
      </div>
      <p class="text-indigo-100 text-xs mt-1">Ask about what we do, pricing, Starter vs Pro, integrations, security, reminders, and more.</p>
    </div>
    <div class="flex-1 p-4 overflow-y-auto">
      <div id="chat-thread" class="space-y-3">
        <div class="flex justify-start">
          <div class="max-w-xs lg:max-w-md px-4 py-2 rounded-lg rounded-tl-none bg-gray-100 text-gray-800">
            Hi! I’m your BookerPilot assistant. I can answer covered questions and help you join the waitlist.
          </div>
        </div>
        <div class="flex justify-start">
          <div class="max-w-xs lg:max-w-md px-4 py-2 rounded-lg rounded-tl-none bg-gray-100 text-gray-800">
            Try: “What is BookerPilot?”, “Starter vs Pro”, “Do you integrate with Google Calendar?”, “Is my data secure?”, or “Join waitlist”.
          </div>
        </div>
        <div id="quick-replies" class="flex flex-wrap gap-2 pt-1">
          <span class="chip" data-q="What is BookerPilot?">What is BookerPilot?</span>
          <span class="chip" data-q="Starter vs Pro">Starter vs Pro</span>
          <span class="chip" data-q="Do you integrate with Stripe?">Stripe</span>
          <span class="chip" data-q="How do reminders work?">Reminders</span>
          <span class="chip" data-q="Join waitlist">Join waitlist</span>
        </div>
      </div>
    </div>
    <div class="border-t border-gray-200 p-3">
      <div class="flex items-center">
        <input id="chat-input" type="text" placeholder="Ask about BookerPilot…" class="flex-1 border border-gray-300 rounded-l-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500">
        <button id="send-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-r-md hover:bg-indigo-700">
          <i data-feather="send"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- WAITLIST MODAL -->
  <div id="wl-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="relative mx-auto mt-20 w-[92vw] max-w-lg">
      <div class="bg-white rounded-xl shadow-xl overflow-hidden">
        <div class="p-5 border-b flex items-center justify-between">
          <h3 class="text-lg font-semibold">Join the waitlist</h3>
          <button id="wl-close" class="text-gray-400 hover:text-gray-600"><i data-feather="x"></i></button>
        </div>

        <form id="waitlist-modal-form" class="p-5 space-y-3" autocomplete="off">
          <p class="text-sm text-gray-700">Join the waitlist to see what’s coming next—launch updates, early access, and a free 30-day trial.</p>
          <input type="hidden" name="plan" id="wl-plan" value="Starter" />
          <div class="grid sm:grid-cols-2 gap-3">
            <input type="text"   name="name"     placeholder="Your Name"        class="w-full border rounded-lg px-3 py-2"
                   required oncopy="return false" onpaste="return false" spellcheck="false" autocapitalize="off" autocomplete="off">
            <input type="email"  name="email"    placeholder="you@example.com"  class="w-full border rounded-lg px-3 py-2"
                   required oncopy="return false" onpaste="return false" spellcheck="false" autocapitalize="off" autocomplete="off">
          </div>
          <div class="grid sm:grid-cols-2 gap-3">
            <input type="tel"    name="phone"    placeholder="Phone (optional)" class="w-full border rounded-lg px-3 py-2"
                   oncopy="return false" onpaste="return false" spellcheck="false" autocapitalize="off" autocomplete="off">
            <input type="text"   name="company"  placeholder="Business (optional)" class="w-full border rounded-lg px-3 py-2"
                   oncopy="return false" onpaste="return false" spellcheck="false" autocapitalize="off" autocomplete="off">
          </div>
          <label class="inline-flex items-center text-sm text-gray-600">
            <input type="checkbox" name="newsletter" class="mr-2">
            Also subscribe me to product updates & newsletters.
          </label>
          <button type="submit" class="w-full bg-indigo-600 text-white py-2.5 rounded-lg hover:bg-indigo-700">Join Waitlist</button>
          <p id="wl-modal-msg" class="text-sm text-gray-500"></p>
        </form>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast"></div>

  <!-- Hidden FormSubmit fallback -->
  <form id="hidden-form" action="https://formsubmit.co/bookerpilot@outlook.com" method="POST" class="hidden">
    <input type="hidden" name="_subject" value="Join Waitlist" />
    <input type="hidden" name="_captcha"  value="false" />
    <input type="hidden" name="_template" value="table" />
    <input type="hidden" name="_next"     value="https://bookerpilot.com/#home" />
    <input type="hidden" name="name">
    <input type="hidden" name="email">
    <input type="hidden" name="phone">
    <input type="hidden" name="company">
    <input type="hidden" name="newsletter">
    <input type="hidden" name="plan">
  </form>

  <!-- Supabase (placeholder for future AI) -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <script>
    // ===== Init libs
    AOS.init({ duration: 700, once: true });
    if (window.feather && typeof feather.replace === 'function') feather.replace();

    // ===== Launch toggles =====
    const LAUNCH = { USE_WAITLIST: true }; // set to false later to enable Stripe

    // ===== Stripe (kept for launch) =====
    const STRIPE = {
      Starter: "https://buy.stripe.com/fZu8wO3Gd3NVc8s8EX43S03",
      Pro:     "https://buy.stripe.com/6oU3cu4Khacj6O81cv43S04"
    };

    // ===== Config for validation + UX
    const CONFIG = {
      emailRegex: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
      phoneRegex: /^\+?[0-9\s().-]{7,}$/,
      waitlistMailbox: "bookerpilot@outlook.com",
      thankYouMsg: "Thanks! We’ve received your info. Please check your inbox and verify your email so we can reach back out.",
      redirectDelayMs: 1500
    };

    // ===== Pull-to-reveal
    const pullHandle   = document.getElementById('pull-handle');
    const revealMask   = document.getElementById('reveal-mask');
    const collapseMore = document.getElementById('collapse-more');
    let revealOpen = false;
    function openReveal() { document.querySelector('.reveal-wrap').classList.add('reveal-open'); revealOpen = true; }
    function closeReveal() { document.querySelector('.reveal-wrap').classList.remove('reveal-open'); revealOpen = false; revealMask.scrollTop = 0; }
    pullHandle.addEventListener('click', () => (revealOpen ? closeReveal() : openReveal()));
    collapseMore.addEventListener('click', closeReveal);

    // ===== Waitlist modal openers (pricing buttons)
    function openWaitlist(plan) {
      document.getElementById('wl-plan').value = plan || 'Starter';
      document.getElementById('wl-modal').classList.remove('hidden');
      setTimeout(() => { document.querySelector('#waitlist-modal-form input[name="name"]').focus(); }, 50);
    }
    function closeWaitlist() { document.getElementById('wl-modal').classList.add('hidden'); }
    document.getElementById('wl-close').addEventListener('click', closeWaitlist);
    document.getElementById('wl-modal').addEventListener('click', (e) => { if (e.target === document.getElementById('wl-modal')) closeWaitlist(); });

    document.querySelectorAll('.js-open-wl, .price-trigger').forEach(el => {
      el.addEventListener('click', () => {
        const plan = el.getAttribute('data-plan') || 'Starter';
        if (LAUNCH.USE_WAITLIST) openWaitlist(plan);
        else window.location.href = STRIPE[plan] || '#';
      });
    });

    // ===== Widget open/close
    const bubble = document.getElementById('widget-bubble');
    const panel  = document.getElementById('widget-panel');
    const closeB = document.getElementById('close-widget');
    const input  = document.getElementById('chat-input');
    const send   = document.getElementById('send-btn');
    const thread = document.getElementById('chat-thread');
    function toggleWidget() {
      const show = panel.style.display !== 'flex';
      panel.style.display = show ? 'flex' : 'none';
      bubble.style.display = show ? 'none' : 'flex';
      if (show) setTimeout(() => input?.focus(), 80);
    }
    bubble.addEventListener('click', toggleWidget);
    closeB.addEventListener('click', toggleWidget);
    document.getElementById('open-demo-widget')?.addEventListener('click', toggleWidget);
    window.addEventListener('keydown', e => { if (e.key === 'Escape') panel.style.display === 'flex' && toggleWidget(); });

    // ===== Toast
    const toast = document.getElementById('toast');
    function showToast(text) {
      toast.textContent = text;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // ===== Hidden form + helpers
    const hiddenForm = document.getElementById('hidden-form');
    function mirrorToHidden(fd) {
      hiddenForm.elements['name'].value      = fd.get('name')      || '';
      hiddenForm.elements['email'].value     = fd.get('email')     || '';
      hiddenForm.elements['phone'].value     = fd.get('phone')     || '';
      hiddenForm.elements['company'].value   = fd.get('company')   || '';
      hiddenForm.elements['newsletter'].value= fd.get('newsletter')? 'Yes':'No';
      hiddenForm.elements['plan'].value      = fd.get('plan')      || 'N/A';
      return new FormData(hiddenForm);
    }
    async function submitWaitlist(fd) {
      const payload = mirrorToHidden(fd);
      await fetch(hiddenForm.action, { method: 'POST', body: payload, mode: 'no-cors' });
    }
    function goHomeAfter(ms=CONFIG.redirectDelayMs) {
      setTimeout(() => {
        window.location.hash = '#home';
        window.scrollTo({ top: 0, behavior: 'smooth' });
        closeWaitlist();
      }, ms);
    }
    function validateContact(name, email, phoneOpt) {
      if (!name) return "Please enter your name.";
      if (!CONFIG.emailRegex.test(email)) return "Please enter a valid email (must include @ and .).";
      if (phoneOpt && !CONFIG.phoneRegex.test(phoneOpt)) return "Please enter a valid phone number.";
      return "";
    }

    // ===== In-page waitlist
    const pageForm  = document.getElementById('waitlist-page-form');
    const wlPageMsg = document.getElementById('wl-page-msg');
    pageForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(pageForm);
      const err = validateContact((fd.get('name')||'').trim(), (fd.get('email')||'').trim(), (fd.get('phone')||'').trim());
      if (err) { wlPageMsg.textContent = err; wlPageMsg.className = "text-sm text-red-600"; return; }
      try {
        await submitWaitlist(fd);
        wlPageMsg.textContent = "";
        showToast(CONFIG.thankYouMsg);
        goHomeAfter();
      } catch { wlPageMsg.textContent = "Please try again or email " + CONFIG.waitlistMailbox; wlPageMsg.className = "text-sm text-red-600"; }
    });

    // ===== Modal waitlist
    const wlModalForm = document.getElementById('waitlist-modal-form');
    const wlModalMsg  = document.getElementById('wl-modal-msg');
    wlModalForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(wlModalForm);
      const err = validateContact((fd.get('name')||'').trim(), (fd.get('email')||'').trim(), (fd.get('phone')||'').trim());
      if (err) { wlModalMsg.textContent = err; wlModalMsg.className = "text-sm text-red-600"; return; }
      try {
        await submitWaitlist(fd);
        wlModalMsg.textContent = "";
        showToast(CONFIG.thankYouMsg);
        goHomeAfter();
      } catch { wlModalMsg.textContent = "Please try again or email " + CONFIG.waitlistMailbox; wlModalMsg.className = "text-sm text-red-600"; }
    });

    // ===== Demo assistant knowledge base (only answers covered topics; routes to waitlist)
    function addBubble(text, who='bot', html=false) {
      const wrap = document.createElement('div');
      wrap.className = `flex ${who === 'user' ? 'justify-end' : 'justify-start'}`;
      const b = document.createElement('div');
      b.className = `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${
        who === 'user'
          ? 'rounded-tr-none bg-indigo-600 text-white'
          : 'rounded-tl-none bg-gray-100 text-gray-800'
      } text-sm leading-relaxed`;
      if (html) b.innerHTML = text; else b.textContent = text;
      wrap.appendChild(b);
      document.getElementById('chat-thread').appendChild(wrap);
      const sc = panel.querySelector('.overflow-y-auto');
      if (sc) sc.scrollTop = sc.scrollHeight;
    }
    function chipsHTML(arr) {
      if (!arr || !arr.length) return '';
      return `<div class="flex flex-wrap gap-2 mt-2">${
        arr.map(t=>`<span class="chip" data-q="${t.replace(/"/g,'&quot;')}">${t}</span>`).join('')
      }</div>`;
    }
    const KB = [
      { id:'what', keys:['what is bookerpilot','bookerpilot','about you','about this','who are you','overview','explain'],
        reply:`<strong>BookerPilot</strong> is a booking widget + AI assistant for local service businesses. It answers FAQs 24/7, captures leads, proposes times, sends reminders, and (at launch) accepts Stripe payments—helping you convert more visitors into booked jobs.`,
        followUps:['How does BookerPilot work?','Industries','Pricing','Starter vs Pro','Join waitlist'] },
      { id:'how', keys:['how does it work','how it works','setup','install','implementation','add to my website'],
        reply:`Paste a single script. The chat bubble appears on your site. The assistant answers from your content (services, pricing, policies), proposes open slots, collects details, and writes to your calendar.`,
        followUps:['Google Calendar','Reminders','Integrations','Security','Join waitlist'] },
      { id:'industries', keys:['industries','who do you support','what businesses','use cases','verticals','works for'],
        reply:`Built for <em>local services</em>: cleaners, salons/spas, tutors, coaches, trainers, handymen, pet groomers, photographers, movers, plumbers, HVAC, lawn care, auto detailers, and more.`,
        followUps:['Pricing','Starter vs Pro','Join waitlist'] },
      { id:'pricing', keys:['price','pricing','cost','how much','plans','fees'],
        reply:`Two plans:<br><br><strong>Starter ($49/mo):</strong> 50 conversations, 15 bookings, email confirmations, basic analytics.<br><strong>Pro ($99/mo):</strong> Unlimited conversations, 100 bookings, email & SMS reminders, advanced analytics, membership upsells.<br><br>Pre-launch: clicking a plan opens the waitlist. Free 30-day trial after launch.`,
        followUps:['Starter vs Pro','Join waitlist'] },
      { id:'plan', keys:['starter vs pro','difference','compare','which plan','pro vs starter'],
        reply:`<strong>Starter</strong> fits solo operators or early teams—caps plus confirmations & basic analytics.<br><strong>Pro</strong> adds SMS reminders, higher booking capacity, advanced analytics, and upsells—great for growth.`,
        followUps:['Pricing','Join waitlist'] },
      { id:'calendar', keys:['google calendar','calendar','availability','sync hours','double booking'],
        reply:`Yes—syncs with Google Calendar (and custom hours). The assistant proposes open slots and prevents double booking.`,
        followUps:['Reminders','Integrations','Join waitlist'] },
      { id:'reminders', keys:['reminders','sms','text','email reminders','no shows','reduce cancellations'],
        reply:`Customers get email confirmations (Pro adds SMS) and reminders to reduce no-shows and keep schedules tight.`,
        followUps:['Starter vs Pro','Join waitlist'] },
      { id:'payments', keys:['stripe','payments','deposit','pay online','checkout'],
        reply:`Stripe handles secure payments. During pre-launch, plan buttons open the waitlist. When we launch, enable checkout with one toggle.`,
        followUps:['Pricing','Join waitlist'] },
      { id:'integrations', keys:['integrations','zapier','api','crm','hubspot','pipedrive','webhooks'],
        reply:`Open API, webhooks, and Zapier. CRM sync (HubSpot, Pipedrive) on the roadmap so you can push leads & bookings to your stack.`,
        followUps:['Security','Join waitlist'] },
      { id:'security', keys:['security','secure','gdpr','ccpa','privacy','data'],
        reply:`Best practices: encryption in transit, least-privilege access, audit logs, and data retention controls. Stripe stores card data. You decide what the assistant can answer.`,
        followUps:['Pricing','Join waitlist'] },
      { id:'trial', keys:['trial','free trial','try before pay','demo'],
        reply:`We’re launching with a <strong>free 30-day trial</strong>. Join the waitlist and we’ll email you when it’s live.`,
        followUps:['Join waitlist','Pricing'] },
      { id:'contact', keys:['contact','support','help','email you','talk to someone'],
        reply:`Reach us at <a class="underline" href="mailto:bookerpilot@outlook.com">bookerpilot@outlook.com</a> or join the waitlist and we’ll follow up.`,
        followUps:['Join waitlist','Pricing'] },
      { id:'wl', keys:['join waitlist','waitlist','early access','notify me','sign up'],
        reply:`Great—let’s add you to the waitlist. What’s your <strong>name</strong>? (I’ll ask for your email next.)`,
        followUps:[] }
    ];
    const SYN = {
      pricing:['price','cost','fees','plan','plans','monthly','per month'],
      security:['gdpr','ccpa','privacy','secure','compliance','data','encryption'],
      stripe:['checkout','payment','pay online','deposit','card'],
      calendar:['availability','schedule','calendar sync','double booking'],
      reminders:['sms','text','email reminder','notifications','no shows','cancellation'],
      integrations:['zapier','api','webhook','crm','hubspot','pipedrive','integrate'],
      trial:['free trial','try before pay','30 day'],
      compare:['starter vs pro','difference','compare','which plan'],
      contact:['talk to someone','support','help','email you','reach you'],
      waitlist:['join waitlist','early access','notify me','sign up']
    };
    function normalize(t){ return (t||'').toLowerCase().replace(/\s+/g,' ').trim(); }
    function matchIntent(q) {
      const n = normalize(q);
      for (const item of KB) if (item.keys.some(k=>n.includes(k))) return item;
      for (const [id, list] of Object.entries(SYN)) {
        if (list.some(k=>n.includes(k))) {
          if (id==='pricing') return KB.find(i=>i.id==='pricing');
          if (id==='compare') return KB.find(i=>i.id==='plan');
          if (id==='stripe') return KB.find(i=>i.id==='payments');
          if (id==='calendar') return KB.find(i=>i.id==='calendar');
          if (id==='reminders') return KB.find(i=>i.id==='reminders');
          if (id==='integrations') return KB.find(i=>i.id==='integrations');
          if (id==='security') return KB.find(i=>i.id==='security');
          if (id==='trial') return KB.find(i=>i.id==='trial');
          if (id==='contact') return KB.find(i=>i.id==='contact');
          if (id==='waitlist') return KB.find(i=>i.id==='wl');
        }
      }
      return KB.find(i=>i.id==='what');
    }
    function answerIntent(intent){ addBubble(intent.reply + chipsHTML(intent.followUps), 'bot', true); }

    // In-chat waitlist dialog state
    const dialog = { mode:'idle', plan:'Not sure', name:'', email:'', phone:'' };

    async function handleUser(raw) {
      const q = (raw||'').replace(/[\u0000-\u001F]/g,'').trim();
      if (!q) return;
      addBubble(q, 'user');

      // Waitlist flow
      if (dialog.mode === 'wl-name') {
        dialog.name = q;
        dialog.mode = 'wl-email';
        addBubble(`Nice to meet you, ${dialog.name}! What’s your email? (we’ll send a verification link)`, 'bot', true);
        return;
      }
      if (dialog.mode === 'wl-email') {
        if (!CONFIG.emailRegex.test(q)) { addBubble(`That doesn’t look valid. Include “@” and “.” (e.g. you@example.com).`, 'bot'); return; }
        dialog.email = q; dialog.mode = 'wl-phone';
        addBubble(`Got it. Phone number (optional, for SMS reminders)? You can type <em>skip</em>.`, 'bot', true);
        return;
      }
      if (dialog.mode === 'wl-phone') {
        if (q.toLowerCase()!=='skip' && q && !CONFIG.phoneRegex.test(q)) { addBubble(`Please enter a valid phone number or type “skip”.`, 'bot'); return; }
        dialog.phone = (q.toLowerCase()==='skip') ? '' : q.trim();

        // Submit via hidden form
        const fd = new FormData();
        fd.set('name', dialog.name);
        fd.set('email', dialog.email);
        fd.set('phone', dialog.phone);
        fd.set('company','');
        fd.set('newsletter','Yes');
        fd.set('plan', dialog.plan || 'Not sure');

        try {
          await submitWaitlist(fd);
          addBubble(`You’re on the list, <strong>${dialog.name}</strong>! Please check <strong>${dialog.email}</strong> and verify your email.`, 'bot', true);
          addBubble(`Want a quick refresher on <em>Starter vs Pro</em> or <em>Pricing</em>?`, 'bot', true);
        } catch {
          addBubble(`Hmm—couldn’t submit just now. Please try “Join waitlist” again or email ${CONFIG.waitlistMailbox}.`, 'bot', true);
        }
        dialog.mode='idle'; dialog.name=''; dialog.email=''; dialog.phone=''; dialog.plan='Not sure';
        return;
      }

      // Normal intents
      const intent = matchIntent(q);
      if (intent.id === 'wl') {
        dialog.mode='wl-name';
        dialog.plan = /pro/.test(q.toLowerCase()) ? 'Pro' : (/starter/.test(q.toLowerCase()) ? 'Starter' : 'Not sure');
        addBubble(intent.reply, 'bot', true);
        return;
      }
      answerIntent(intent);
    }

    // Bind chat input
    document.getElementById('send-btn').addEventListener('click', ()=>{ const val = input.value; input.value=''; handleUser(val); });
    input.addEventListener('keydown', e => { if (e.key === 'Enter') { e.preventDefault(); document.getElementById('send-btn').click(); }});

    // Delegate chips in chat
    document.getElementById('chat-thread').addEventListener('click', (e)=>{
      const chip = e.target.closest('.chip'); if (chip) handleUser(chip.getAttribute('data-q')||chip.textContent);
    });
    // Chips in demo card open widget and ask
    document.querySelectorAll('#demo .chip').forEach(ch=>{
      ch.addEventListener('click', ()=>{
        if (panel.style.display !== 'flex') toggleWidget();
        const q = ch.getAttribute('data-q') || ch.textContent;
        setTimeout(()=> handleUser(q), 150);
      });
    });

    // ===== Page & modal forms (validation + submit + redirect)
    function collectAndValidate(formEl, msgEl) {
      const fd = new FormData(formEl);
      const name  = (fd.get('name')  || '').toString().trim();
      const email = (fd.get('email') || '').toString().trim();
      const phone = (fd.get('phone') || '').toString().trim();
      const err = validateContact(name, email, phone);
      if (err){ msgEl.textContent = err; msgEl.className = "text-sm text-red-600"; return null; }
      msgEl.textContent = ""; return fd;
    }
    async function handleSubmit(formEl, msgEl) {
      const fd = collectAndValidate(formEl, msgEl); if (!fd) return;
      try {
        await submitWaitlist(fd);
        msgEl.textContent = "";
        showToast(CONFIG.thankYouMsg);
        goHomeAfter();
      } catch {
        msgEl.textContent = "Please try again or email " + CONFIG.waitlistMailbox;
        msgEl.className = "text-sm text-red-600";
      }
    }
    document.getElementById('waitlist-page-form').addEventListener('submit', e => { e.preventDefault(); handleSubmit(e.target, wlPageMsg); });
    document.getElementById('waitlist-modal-form').addEventListener('submit', e => { e.preventDefault(); handleSubmit(e.target, wlModalMsg); });
  </script>
</body>
</html>
